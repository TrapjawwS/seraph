<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="og:title" property="og:title" content="Ripen OS" />
        <meta name="og:description" property="og:description" content="Ripen OS Official | An open-sourced GUI in the Web | An initiative of the RGOS"/>
        <meta name="description" content="Ripen OS Official | An open-sourced GUI in the Web | An initiative of the RGOS"/>
        <meta content="https://user-images.githubusercontent.com/120778877/209983105-1a1e190a-a292-4caf-8c7a-3387c6a66e5e.jpg" property="og:image"/>
        <meta content="Ripen OS Official" property="twitter:title"/>
        <meta content="Ripen OS Official | An open-sourced GUI in the Web | An initiative of the RGOS" property="twitter:description"/>
        <meta content="https://user-images.githubusercontent.com/120778877/209983105-1a1e190a-a292-4caf-8c7a-3387c6a66e5e.jpg" property="twitter:image"/>
        <meta property="og:type" content="website"/>
        <meta content="summary_large_image" name="twitter:card"/>
        
        <link rel="manifest" href="manifest.json">
        <link rel="shortcut icon" href="Assets/General/ripenOs.png" type="image/x-icon">
        <link rel="apple-touch-icon" href="Assets/General/ripenOs.jpg" />
        <link rel="stylesheet" href="styles/innitial.css">

        <title>RGOS | RipenOS</title>
    </head>
    <body onload="onLoad(),intoLockscreen(), startTime(), StartDate()">
        <div id="welcome"></div>

        <div id="Boot">
            <CENTER id="loadItems">
                <img src="Assets/General/rgos-logo.png" alt="" id="RGOS-logo">

                <span id="bootSece">
                    <img src="Assets/General/ripenOs.png" alt="" id="logo">
                <br>
                <div class="spinner">
                    <div class="double-bounce1"></div>
                    <div class="double-bounce2"></div>
                </div>
                </span>
            </CENTER>
        </div>

        <div id="Lockscreen">
            <CENTER>
                <div id="txt" class="lockS-time"></div>
                <div id="txtdty" class="lockS-date"></div>
                <button class="loginBtn" onclick="DesktopDirect()" id="myLB">login</button>
            </CENTER>
        
            <CENTER>
                <p id="greetings"></p>
            </CENTER>
        </div>

        <script>
            function onLoad(){
                document.getElementById("loadItems").style.opacity= "1";
                document.getElementById("welcome").style.opacity= "1";
                
                setTimeout(() => {
                    document.getElementById('RGOS-logo').style.opacity = '0'
                    document.getElementById('bootSece').style.opacity = '1'
                }, 1750);
            }
            
            function intoLockscreen(){

            setTimeout(() => {
                document.getElementById("loadItems").style.opacity= "0";
            }, 5000);

            setTimeout(() => {
                document.getElementById("Boot").style.display= "none";
                document.getElementById("Lockscreen").style.opacity= "1";
                document.getElementById("welcome").style.filter= "saturate(200%) blur(35px) brightness(75%)";

                
                document.getElementById("Lockscreen").style.display= "block";
                document.getElementById("myLB").style.opacity = '1';
                document.getElementById("txt").style.opacity = '1';
                document.getElementById("txtdty").style.opacity = '1';
            }, 6000);
            }

            function setBackgroundImageB(imageUrl) {
                document.getElementById('welcome').style.background = `url('${imageUrl}')`;

                localStorage.setItem('backgroundImage', imageUrl);
            }

            const savedBackgroundImageB = localStorage.getItem('backgroundImage');
            if (savedBackgroundImageB) {
                setBackgroundImageB(savedBackgroundImageB);
            }

            function startTime() {
            const today = new Date();
            let h = today.getHours();
            let m = today.getMinutes();
            m = checkTime(m);
            document.getElementById('txt').innerHTML =  h + ":" + m;
            setTimeout(startTime, 1000);
            }

            function checkTime(i) {
                if (i < 10) {i = "0" + i};  // add zero in front of numbers < 10
                return i;
            }

            function StartDate(){
                const dToday = new Date();
                let dt = dToday.getDate();

                var myDate = new Date();
                var myDay = myDate.getDay();

                // Array of days.
                var weekday = ['Sunday', 'Monday', 'Tuesday',
                    'Wednesday', 'Thursday', 'Friday', 'Saturday'
                ];
                document.getElementById('txtdty').innerHTML =  dt + 'th ' + dToday.getFullYear() + ' ' + weekday[myDay];
                setTimeout(startTime, 1000);
            }

            var GreetDate = new Date();
            var hrs = GreetDate.getHours();
            var greet;

            if (hrs < 12)
            greet = 'Good Morning';
            else if (hrs >= 12 && hrs <= 15)
            greet = 'Good Afternoon';
            else if (hrs >= 15 && hrs <= 24)
            greet = 'Good Evening';

            const savedTextValueB = localStorage.getItem('textValue');
            if (savedTextValueB) {
                document.getElementById('greetings').innerHTML ='<b>' + greet + ', ' + savedTextValueB + '</b>';
            }
            else{
                document.getElementById('greetings').innerHTML ='<b>' + greet + ', ' + 'Admin' + '</b>';
            }

            document.getElementById('greetings').style.position = 'Absolute';

            function DesktopDirect(){
                setTimeout(() => {
                    document.getElementById("myLB").style.opacity = '0';
                    document.getElementById("txt").style.opacity = '0';
                    document.getElementById("txtdty").style.opacity = '0';
                    document.getElementById('greetings').style.opacity = '1';
                }, 250);

                setTimeout(() => {
                    document.getElementById('greetings').style.opacity = '0';
                }, 2000);

                setTimeout(() => {
                    window.open("desktop1.html", '_self');
                }, 3000);
            }

            console.log("%cRipen OS Official v3.0, is an opens-sourced project developed by the RGOS team. If you wish to help out with this project, visit https://github.com/ripenos/ripenos.github.io", "color: rgb(255, 123, 0); font-size: x-large")

        </script>
        <script src="index.js"></script>
    </body>
</html>